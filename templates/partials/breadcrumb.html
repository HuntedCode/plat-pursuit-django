{% load humanize %}

<div class="flex items-center justify-between mb-4">
    <!-- Left: View count with eye icon (if provided) -->
    {% if view_count is not None %}
        <div class="flex items-center gap-2 text-sm text-base-content/70">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/>
            </svg>
            <span>{{ view_count|intcomma }} views</span>
        </div>
    {% else %}
        <div></div>
    {% endif %}

    <!-- Right: Breadcrumb navigation -->
    {% if items and items|length > 0 %}
        <nav aria-label="Breadcrumb" class="breadcrumbs text-sm mr-2">
            <ol>
                {% for item in items %}
                    {% if item.url %}
                        <li>
                            <a href="{{ item.url }}">{{ item.text }}</a>
                        </li>
                    {% else %}
                        <li class="text-accent">
                            {{ item.text }}
                        </li>
                    {% endif %}
                {% endfor %}
            </ol>
        </nav>
    {% endif %}
</div>

{% if messages %}
    <div aria-live="polite" aria-atomic="true" class="mb-4">
        {% for message in messages %}
            <div class="alert {% if message.tags == 'error' %}alert-error{% elif message.tags == 'success' %}alert-success{% else %}alert-info{% endif %} font-bold" role="{% if message.tags == 'error' %}alert{% else %}status{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    </div>
{% endif %}