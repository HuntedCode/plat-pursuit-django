{% extends 'base.html' %}
<!-- badges_test.html: Test partial to display all 4 tiers side by side -->
 {% block content %}
<div class="flex flex-wrap justify-center gap-8 p-4 bg-base-200 rounded-lg shadow-md">
    <div class="grid grid-cols-4 gap-x-8 gap-y-4">
        {% for badge in badges %}
        <div class="flex flex-col items-center w-32 md:w-40">
            <div class="relative inline-block">
                {% if badge.effective_icon_url %}
                <div class="
                        w-16 h-16 md:w-24 md:h-24 rounded-full object-cover bg-base-300
                        {% if badge.tier == 1 %}
                            border-2 border-warning shadow-sm shadow-warning
                        {% elif badge.tier == 2 %}
                            border-4 border-secondary shadow-md shadow-secondary
                        {% elif badge.tier == 3 %}
                            border-4 border-error shadow-lg shadow-error
                        {% elif badge.tier == 4 %}
                            border-4 border-primary shadow-xl shadow-primary
                        {% endif %}">

                    <img src="{{ badge.effective_icon_url }}" class="w-full {% if badge.tier == 1 %}scale-90{% elif badge.tier == 2 %}scale-100{% elif badge.tier == 3 %}scale-110{% else %}scale-120{% endif %} z-10" />

                </div>
                {% else %}
                <!-- Fallback placeholder (best practice for robustness) -->
                <div class="w-16 h-16 md:w-24 md:h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500">
                    No Icon
                </div>
                {% endif %}
            </div>
            <!-- Label below for clarity in test view -->
            <p class="mt-2 text-sm font-semibold text-center">{{ badge.name }}</p>
        </div>
        {% empty %}
        <p class="text-center text-gray-500">No badges found. Add samples in admin.</p>
        {% endfor %}
    </div>
</div>
{% endblock %}