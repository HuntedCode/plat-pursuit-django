{% extends 'base.html' %}
{% load static %}

{% block title %}Milestones - Platinum Pursuit{% endblock %}

{% block content %}
    {% include 'partials/breadcrumb.html' with items=breadcrumb %}

    {# ─── Tab Bar + Content ────────────────────────────────────────────── #}
    {% include 'trophies/partials/milestone_list/milestone_tabs.html' %}
{% endblock %}

{% block js_scripts %}
<script>
    PlatPursuit.ZoomScaler.init();

    document.addEventListener('DOMContentLoaded', function() {
        const scrollKey = 'milestoneScrollPos';
        const saved = sessionStorage.getItem(scrollKey);
        if (saved !== null) {
            sessionStorage.removeItem(scrollKey);
            window.scrollTo(0, parseInt(saved, 10));
        }
        document.querySelectorAll('.tabs [role="tab"]').forEach(tab => {
            tab.addEventListener('click', () => {
                sessionStorage.setItem(scrollKey, window.scrollY);
            });
        });
    });
</script>
{% endblock %}
